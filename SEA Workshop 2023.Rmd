---
title: 
subtitle: 
author: 
date:
output:
  html_document:
    toc: false
    toc_float: true 
    depth: 2
    number_sections: false
    theme: spacelab
    highlight: pygments
editor_options: 
  markdown: 
    wrap: 150
---

```{r, echo=FALSE}
htmltools::img(src =knitr::image_uri('images/banner1.png'),
               alt = 'logo', 
               style = 'position:center; top:0; left:0; padding:0px;')
```

------------------------------------------------------------------------------------------------------------------------------------------------------

# SEA Shark and Ray Research and Conservation Workshop {.tabset .tabset-fade}

<br>

## Introductions

### Who am I?

**Vinay** is a Research Scientist at the [Australian Institute of Marine Science](https://www.aims.gov.au/). He is an ecologist that is particularly
interested in using spatio-temporal datasets to understand animal movements and distributions patterns. He has considerable experience using **R** to
analyse and visualise large and complex spatial datasets. He has developed **R** code and packages to analyse 2 and 3 dimensional movement patterns of
animals using acoustic telemetry data from single study sites to continental scale arrays. Vinay's **R** codes can be found on his [github
page](https://github.com/vinayudyawer).

<br>

### Course outline

**In this course you will learn about different ways to analyse and interpret your aquatic telemetry datasets using R**. This workshop will
demonstrate how **R** can make the processing of spatial data much quicker and easier than using standard GIS software! At the end of this workshop
you will also have the annotated **R** code that you can re-run at any time, share with collaborators and build on with those newly acquired data!

I designed this course not to comprehensively cover all the tools in **R**, but rather to give you an understanding of options on how to analyse your
telemetry data (both from satellite and acoustic tags). Every new project comes with its own problems and questions and you will need to be
independent, patient and creative to solve these challenges. It makes sense to invest time in becoming familiar with **R**, because today **R** is the
leading platform for environmental data analysis and has some other functionalities which may surprise you!

<br>

This **R** workshop is intended to run across 3 sessions.

<br>

-   **Session 1:** *Getting familiar with R and spatial data*

0.  A brief introduction to **R**
1.  **Import** and **explore** datasets using %pipes% and the [*tidyverse*](http://tidyverse.org/) group of **R** packages
2.  Working with **Spatial objects** using the [*sf*](https://r-spatial.github.io/sf/) **R** package
3.  Generating interactive maps using [*mapview*](https://r-spatial.github.io/mapview/)

<br>

-   **Session 2:** *Working with satellite telemetry data*

1.  Understanding the data structure from **satellite tags**
2.  **Processing** satellite tag data using the [*aniMotum*](https://github.com/ianjonsen/aniMotum) package
3.  **Visualising** satellite tag data using the [*ggspatial*](https://paleolimbot.github.io/ggspatial/) package

<br>

-   **Session 3:** *Working with passive acoustic telemetry data*

1.  Understanding the data structure from **acoustic telemetry data**
2.  Using the [*VTrack*](http://github.com/rossdwyer/VTrack) R package to explore patterns in animal detections and dispersal
3.  Using the [*re**mo**ra*](https://github.com/IMOS-AnimalTracking/remora) R package to interactively explore your telemetry data

<br> <br>

**The main principles we hope you will learn today are...**

-   Data wrangling in **R** is safe, fast, reliable and repeatable
-   **R** can easily handle large datasets
-   **R** is the ideal suite for performing your GIS operations
-   that in **R**, it is easy to produce amazing publication-ready images

<br> <br>

### Course Resources

The course resources will be emailed to you prior to the workshop. However, you can also access the data and scripts we will work through in this
course, download the course resources from this [GitHub repository](https://github.com/vinayudyawer/SEA-workshop2023) page. This page contains the
course documents, telemetry example data and R scripts we are going to work with. To download the folder click on the green
[**Code**]{style="color:green"}, dropdown menu and select **"Download ZIP"**

![](Images/github.png)

<br><br><br><br>

------------------------------------------------------------------------------------------------------------------------------------------------------

## Session 1

### Getting familiar with R and spatial data

|                           |
|:--------------------------|
| ![](images/blacktip.png) |

<br><br>

#### 1.1 A brief Introduction to **R**

The process of turning raw telemetry data into publishable results is a highly involved. Tracking data sets are becoming larger, and larger as they
are being gathered over longer time periods, over larger spatial extents and at increasing temporal resolutions. While this is increasing our ability
to detect subtle patterns, these data sets are becoming vast and require analytical tools that easily handle, manipulate and visualise these complex
datasets.

Processing and analysing telemetry datasets can require a huge investment in time: rearranging data, removing erroneous values, purchasing,
downloading and learning the new software, and running analyses. Furthermore merging together Excel spreadsheets, filtering data and preparing data
for statistical analyses and plotting in different software packages can introduce all sorts of errors.

*There is a better way...*

**R** is a powerful language for data wrangling and analysis because...

1.  It is relatively **fast** to run and process commands
2.  You can create **repeatable** scripts
3.  You can **trace errors** back to their source
4.  You can **share your scripts** with other people
5.  It is **easy to identify errors** in large data sets
6.  Having your data in **R** opens up a huge array of **cutting edge analysis tools**.
7.  **R** is also totally **FREE!**

As **R** is open source, the more people we can get helping out on the **R** mailing lists (e.g. **R-sig-geo**) and contributing their own packages to
the wider community, the more powerful **R** becomes!

**For this course, we assume you have a basic understanding of the *R* environment, and working with [*RStudio*](https://posit.co/products/open-source/rstudio/)**











<br><br><br> <br><br><br>

------------------------------------------------------------------------------------------------------------------------------------------------------

## Session 2

### Working with satellite telemetry data

|                             |
|:----------------------------|
| ![](Images/whitetip_banner.png) |



<br>

#### 2.1. Analysing bull shark movements in an estuarine system


<br>

##### 2.1.1. Filtering detections with actel



<br>

##### 2.1.2. Refining in-water paths with RSP



<br>

##### 2.1.3. dynamic Brownian Bridge Movement Models (dBBMM)


<br>



#### 2.2. Analysing bull shark movements along the coast



<br>

##### 2.2.1. Analysing bull shark movements along the coast



<br><br><br><br>

------------------------------------------------------------------------------------------------------------------------------------------------------

## Session 3

### Working with passive acoustic telemetry data

|                         |
|:------------------------|
| ![](images/telemetry.png) |

In this session we will go through a brief walk through of how we can use the *VTrack* R package to quickly format and analyse large acoustic tracking
datasets. A lot of the functions here do similar analyses to the ones you learned in the previous session. We will then go through a new R package
called *re**mo**ra* that helps users to interactively explore thier data as well as append environmental data to detections to further your analysis
of animal movements.

Here we are just arming you with multiple tools to be able to analyse your data. Which analysis (and thus R package) is more appropriate and suitable
to your dataset will depend on your study design, research questions and data available. For this session, we will use the same data you worked on in
session 2, however we will use the ***IMOS Workshop_Bull-shark-sample-dataset*** in the data folder you have downloaded.

<br><br>

#### 3.1 Using the *VTrack* R package to explore patterns in animal detections and dispersal

The **VTrack** package can be downloaded from GitHub. As we only have a short time for this session, I will only go over this briefly. If you want to
have a more comprehensive walk through of **VTrack**, go through the examples on [this
page](https://vinayudyawer.github.io/ATT/docs/ATT_Vignette.html).

```{r, eval = FALSE}
## Install packages
install.packages("remotes")
remotes::install_github("rossdwyer/VTrack")
```

<br>

If you R asks you if you would like to update packages, select **No**. This seems to be an issue with some people attempting to install packages from
Github. You can update other packages separately if you feel that you need to, however doing it while installing a package from GitHub often stalls
the whole process.

```{r, eval = FALSE}
## Load other useful packages
library(VTrack)
library(tidyverse)
library(lubridate)
library(sf)
library(mapview)
```

<br>

##### 3.1.1 Input, explore and format data from IMOS repository to use in VTrack



<br>

##### 3.1.2 Examine patterns in detection and dispersal



<br> <br>

------------------------------------------------------------------------------------------------------------------------------------------------------

<br>

#### 3.2 Using the *re**mo**ra* R package to interactivley explore your telemetry data



<br>

##### 3.2.1 Undertaking Quality control checks on your raw detection data



<br>

##### 3.2.2 Extracting and appending environmental variables to acoustic telemetry data



<br><br> <br><br> <br><br>

------------------------------------------------------------------------------------------------------------------------------------------------------

### Signoff!

This is where we end our R workshop! There may have been a few bits of code that you had trouble with or need more time to work through. We encourage
you to discuss these with us as well as others at the workshop to help get a handle on the R code.

<br>

If you have any comments or queries reguarding this workshop feel free to contact me:

-   Dr. Vinay Udyawer: [v.udyawer\@aims.gov.au](mailto:v.udyawer@aims.gov.au){.email}

**Happy Tracking!**

<br><br><br><br>

------------------------------------------------------------------------------------------------------------------------------------------------------

